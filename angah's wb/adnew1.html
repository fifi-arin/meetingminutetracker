<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="mystyle.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

  <title>Add New</title>
</head>
<body>
  <div id="overlay" onclick="closeSidebar()"></div>

  <header class="top-header">
    <h1>Meeting Minutes Tracker</h1>
  </header>

   <button class="toggle-btn" onclick="toggleSidebar()">☰</button>

 <aside class="sidebar" id="sidebar">

  <div class="sidebar-header">
      <img src="logo.png" alt="Logo" class="sidebar-logo">
      <span class="sidebar-title">Meeting Minute Tracker</span>
  </div>


<!---Sidebar Search Boostrap--->

  <div class="sidebar-search">
    <i class="bi bi-search"></i>
    <input type="text" placeholder="Search..." />
  </div>


  <!--Sidebar link form-->

  <div class="sidebar-menu">
  <a href="index.html" class="sidebar-link active">
    <i class="bi bi-house-door"></i>
    <span>Home</span>
  </a>

<a href="dashboard.html" class="sidebar-link">
    <i class="bi bi-speedometer2"></i>
    <span>Dashboard</span>
  </a>

  <div class="dropdown">
    <button class="dropdown-toggle" type="button"> 
    <i class="bi bi-plus-circle"></i>
    <span>Add Minutes</span>
    <i class="bi bi-chevron-down ms-auto"></i>
  </button>
    <div class="dropdown-content">
      <div class="subgroup">
        <strong>Minit Mesyuarat</strong>
        <a href="jawatankuasa.html">⚬ Jawatankuasa Kewangan</a>
        <a href="mesyuaratbulanan.html">⚬ Mesyuarat Bulanan</a>
        <a href="mesyuaratk.html">⚬ Mesyuarat Khas</a>
        <a href="mpp.html">⚬ Majlis Perwakilan Pelajar</a>
        <a href="adnew1.html">⚬ Add New</a>
      </div>

      <div class="subgroup">
        <strong>Pelantikan / Projek / Bajet</strong>
        <a href="pj.html">⚬ Pelantikan Jawatankuasa</a>
        <a href="pej.html">⚬ Perancangan Projek</a>
        <a href="perj.html">⚬ Permohonan Bajet</a>
        <a href="hep.html">⚬ Hal Ehwal Pengurusan</a>
        <a href="adnew2.html">⚬ Add New</a>
      </div>

      <div class="subgroup">
        <strong>Tugas - Tugas Lain</strong>
        <a href="ak.html">⚬ Aktiviti Ko-Kurikulum</a>
        <a href="tk.html">⚬ Tugas Khas</a>
        <a href="pak.html">⚬ Perbincangan Akademik</a>
        <a href="hap.html">⚬ Hal Pentadbiran</a>
        <a href="adnew3.html">⚬ Add New</a>
      </div>
    </div>
  </div>

  <a href="viewminutes.html" class="sidebar-link">
  <i class="bi bi-folder"></i>
  <span>View Minutes</span>
</a>

<div class="sidebar-bottom">

<div class="sidebar-user">
  <i class="bi bi-person-circle user-icon"></i>
  <div class="user-info">
    <strong>Erin</strong>
    <small>Administrator</small>
   </div>
</div>
</div>
</div>
</aside>


<main id="section-others" style="display:block;">
  <div class="form-card">
  <h3>Add New</h3>

   <form id="othersForm">
      <div class="form-group">
        <label for="otherTitle">Title:</label>
        <input type="text" id="otherTitle" placeholder="Enter custom title" required />
      </div>

      <div class="form-group">
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required />
      </div>

      <div class="form-group">
        <label for="otherDetails">Information:</label>
        <textarea id="otherDetails" rows="5" placeholder="Enter related information..." required></textarea>
      </div>

    <div class="form-group">
        <label for="otherFile">Upload the related document:</label>
        <input type="file" id="otherFile" accept=".pdf,.doc,.docx,.xls,.xlsx" required />
      </div>

      <div class="form-group">
        <button type="submit">Submit</button>
      </div>
    </form>
  </div>
</div>
</main>


<footer style="background-color:#291660; color:white; font-family:Arial, sans-serif; padding:30px 20px; font-size:12px;">

  <div style="display:flex; justify-content:space-between; flex-wrap:wrap; gap:30px; max-width:1000px; margin:auto;">

    <div style="flex:1; min-width:250px;">
      <h3 style="margin-bottom:8px;"><strong>About Us</strong></h3>
      <p style="line-height:1.5;">
        At Meetlyst, we believe that every great decision starts with clarity. Designed as a modern and intuitive meeting minutes tracker, Meetlyst helps teams capture discussions, document decisions, and stay aligned without the clutter and confusion that often follow meetings.
      </p>
    </div>

    <div style="flex:1; min-width:200px;">
      <h3 style="margin-bottom:8px;">Connect With Us</h3>
      <p style="line-height:1.9;">

        <a href="https://instagram.com" style="color:white; text-decoration:none;">
          <i class="bi bi-instagram"></i> Instagram
        </a><br>

        <a href="https://facebook.com" style="color:white; text-decoration:none;">
          <i class="bi bi-facebook"></i> Facebook
        </a>
      </p>
    </div>

    <div style="flex:1; min-width:200px;">
      <h3 style="margin-bottom:8px;">Contact Us</h3>
      <ul style="list-style:none; padding:0; line-height:2;">
        <li>
          <a href="contactus.html" style="color:white; text-decoration:none;">
            <i class="bi bi-envelope"></i> Email Us
          </a>
        </li>
        <li>
          <a href="tel:+123456789" style="color:white; text-decoration:none;">
            <i class="bi bi-telephone"></i> Call Us
          </a>
        </li>
      </ul>
    </div>

  </div>

  <p style="text-align:center; margin-top:25px; opacity:0.8;">
    © 2025 Meetlyst. All Rights Reserved.
  </p>

</footer>



<script>

// Sidebar toggle
function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  sidebar.classList.toggle('open');
  overlay.classList.toggle('active');
}

function closeSidebar() {
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('overlay').classList.remove('active');
}

//Dark Mode
document.addEventListener("DOMContentLoaded", () => {
  const darkModeToggle = document.getElementById("darkModeToggle");
  const darkModeIcon = document.getElementById("darkModeIcon");
  const htmlElement = document.documentElement;

  // Load saved theme
  const savedTheme = localStorage.getItem("theme") || "light";
  htmlElement.setAttribute("data-bs-theme", savedTheme);
  updateIcon(savedTheme);

  // Toggle theme on click
  darkModeToggle.addEventListener("click", () => {
    const currentTheme = htmlElement.getAttribute("data-bs-theme");
    const newTheme = currentTheme === "light" ? "dark" : "light";

    htmlElement.setAttribute("data-bs-theme", newTheme);
    localStorage.setItem("theme", newTheme);
    updateIcon(newTheme);
  });

  function updateIcon(theme) {
    if (theme === "dark") {
      // Dark screen → show SUN
      darkModeIcon.className = "bi bi-sun-fill";
    } else {
      // Light screen → show MOON
      darkModeIcon.className = "bi bi-moon-stars-fill";
    }
  }
});
//dropdown content hover 
document.querySelectorAll('.dropdown').forEach(dropdown => {
  const toggle = dropdown.querySelector('.dropdown-toggle');
  const menu = dropdown.querySelector('.dropdown-content');
  const sidebar = document.getElementById('sidebar');

  if (!toggle || !menu) return;

  function openMenu() {
    const toggleRect = toggle.getBoundingClientRect();
    const sidebarRect = sidebar.getBoundingClientRect();

    let left = sidebarRect.right + 10;
    let top = toggleRect.top;

    const maxHeight = window.innerHeight * 0.8;
    menu.style.maxHeight = maxHeight + 'px';

    // keep inside viewport vertically
    if (top + menu.offsetHeight > window.innerHeight - 8) {
      top = window.innerHeight - menu.offsetHeight - 8;
    }
    if (top < 8) top = 8;

    menu.style.left = left + 'px';
    menu.style.top = top + 'px';

    menu.classList.add('show');
  }

  function closeMenu() {
    menu.classList.remove('show');
  }

  // ✅ DESKTOP = hover
  toggle.addEventListener('mouseenter', () => {
    if (window.innerWidth > 768) openMenu();
  });

  menu.addEventListener('mouseenter', () => {
    if (window.innerWidth > 768) openMenu();
  });

  toggle.addEventListener('mouseleave', () => {
    if (window.innerWidth > 768) {
      setTimeout(() => {
        if (!menu.matches(':hover')) closeMenu();
      }, 100);
    }
  });

  menu.addEventListener('mouseleave', () => {
    if (window.innerWidth > 768) closeMenu();
  });

  toggle.addEventListener('click', e => {
    e.preventDefault();
    menu.classList.contains('show') ? closeMenu() : openMenu();
  });

  // click outside → close
  document.addEventListener('click', e => {
    if (!dropdown.contains(e.target) && !menu.contains(e.target)) {
      closeMenu();
    }
  });

  // reposition on scroll / resize
  window.addEventListener('resize', () => {
    if (menu.classList.contains('show')) openMenu();
  });

  window.addEventListener('scroll', () => {
    if (menu.classList.contains('show')) openMenu();
  }, { passive: true });
});


  function showPage(sectionId) {
  document.querySelectorAll('main, div[id^="section-"]').forEach(section => {
    section.style.display = 'none';
  });
  const target = document.getElementById('section-' + sectionId);
  if (target) target.style.display = 'block';
}

  function showOtherSection(title = '') {
    // This shows the #section-others div
    showPage('others');
      document.getElementById('otherTitle').value = title;
  }

  document.getElementById('othersForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const otherTitle = document.getElementById('otherTitle').value;
    const date = document.getElementById('date').value;
    const otherDetails = document.getElementById('otherDetails').value;
    const otherFile = document.getElementById('otherFile').files[0];

    if (!otherFile) {
      return alert("Please upload a related document.");
    }

    const reader = new FileReader();
    reader.onload = () => {
      const minutes = JSON.parse(localStorage.getItem("minutesData")) || [];
      minutes.push({
        type: "Lain-Lain",
        title: otherTitle,
        date: date,
        details: otherDetails,
        file: { name: otherFile.name, data: reader.result }
      });
      localStorage.setItem("minutesData", JSON.stringify(minutes));
      alert("Lain-Lain entry saved.");
      document.getElementById('othersForm').reset();
      document.getElementById('section-others').style.display = 'none';
    };
    reader.readAsDataURL(otherFile);
  });

  // Attach click listener to dropdown links
document.querySelectorAll('.open-form').forEach(link => {
  link.addEventListener('click', function (e) {
    e.preventDefault();
    const title = this.dataset.title || '';
    showPage('others');
    document.getElementById('otherTitle').value = title;
  });
});
</script>

</body>
</html>
